<%= form_with(model: product, html: { data: { turbo: turbo_frame_request? } }, class: "w-full max-w-lg") do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <div class="flex flex-wrap -mx-3 mb-4">
    <div class="w-full px-3">
      <%= f.label :name, class: "px-3" %>
      <div data-controller="autocomplete" data-autocomplete-query-param-value="product_name" autocomplete-delay-value="100" data-autocomplete-min-length-value="3" data-autocomplete-url-value="<%= autocomplete_products_path %>" role="combobox">
        <%= f.text_field :name, class: "input input-bordered form-control w-full mx-auto pl-2 text-base", data: { autocomplete_target: 'input' }, autofocus: true %>
        <%= f.hidden_field :id, data: { autocomplete_target: 'hidden' } %>
        <ul class="list-group bg-base-100 absolute rounded-box z-[1] w-70 h-80 p-2 shadow overflow-y-auto overflow-x-hidden" data-autocomplete-target="results"></ul>
      </div>
    </div>
  </div>
  <div class="flex flex-wrap -mx-3 mb-4">
    <div class="w-full px-3">
      <%= f.label :brand_name, class: "px-3" %>
      <div data-controller="autocomplete" data-autocomplete-query-param-value="brand_name" autocomplete-delay-value="100" data-autocomplete-min-length-value="3" data-autocomplete-url-value="<%= autocomplete_products_path %>" role="combobox">
        <%= f.text_field :brand_name, class: "input input-bordered form-control w-full mx-auto pl-2 text-base", data: { autocomplete_target: 'input' } %>
        <%= f.hidden_field :id, data: { autocomplete_target: 'hidden' } %>
        <ul class="list-group bg-base-100 absolute rounded-box z-[1] w-70 h-80 p-2 shadow overflow-y-auto overflow-x-hidden" data-autocomplete-target="results"></ul>
      </div>
    </div>
  </div>
  <div class="flex flex-wrap -mx-3 mb-4">
    <div class="w-full px-3">
      <%= f.collection_select(:category_id, Category.all, :id, :color, {include_blank: t('category.select.include_blank')}, {class: "select select-bordered w-40 max-w-xs"}) %>
    </div>
  </div>
  <%= f.submit nil, class: "btn btn-secondary w-full mx-auto mt-2" %>
<% end %>